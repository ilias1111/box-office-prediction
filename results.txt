Top 10 predictions with highest absolute percentage error
|      |   movie_id |        actual |      predicted |   absolute_error |             squared_error |   percentage_error |   absolute_percentage_error |      residuals |   threshold_mape |   threshold_mape_25 |
|-----:|-----------:|--------------:|---------------:|-----------------:|--------------------------:|-------------------:|----------------------------:|---------------:|-----------------:|--------------------:|
|  698 |       9267 |     52,664.54 |   3,256,025.92 |     3,203,361.38 |     10,261,524,121,643.48 |              60.83 |                       60.83 |   3,203,361.38 |             1.43 |                1.64 |
|  827 |      91070 |     41,863.86 |   1,795,590.46 |     1,753,726.60 |      3,075,556,997,128.78 |              41.89 |                       41.89 |   1,753,726.60 |             1.43 |                1.64 |
|  877 |       8046 | 12,032,763.12 | 261,504,697.46 |   249,471,934.33 | 62,236,246,020,090,552.00 |              20.73 |                       20.73 | 249,471,934.33 |             1.43 |                1.64 |
|  991 |      12590 |  4,440,985.07 |  93,578,207.06 |    89,137,221.99 |  7,945,444,344,387,771.00 |              20.07 |                       20.07 |  89,137,221.99 |             1.43 |                1.64 |
|  752 |        763 |    526,925.97 |   9,677,698.44 |     9,150,772.47 |     83,736,636,859,887.70 |              17.37 |                       17.37 |   9,150,772.47 |             1.43 |                1.64 |
|  229 |      10288 |    644,202.90 |  11,422,823.12 |    10,778,620.22 |    116,178,653,809,601.86 |              16.73 |                       16.73 |  10,778,620.22 |             1.43 |                1.64 |
|  126 |      49792 |  1,370,892.78 |  24,291,706.66 |    22,920,813.89 |    525,363,709,260,472.38 |              16.72 |                       16.72 |  22,920,813.89 |             1.43 |                1.64 |
|  148 |      13919 |    548,246.74 |   9,558,426.37 |     9,010,179.63 |     81,183,336,958,203.08 |              16.43 |                       16.43 |   9,010,179.63 |             1.43 |                1.64 |
|  431 |      52505 |  2,028,043.78 |  35,084,440.96 |    33,056,397.18 |  1,092,725,394,290,095.25 |              16.30 |                       16.30 |  33,056,397.18 |             1.43 |                1.64 |
|  564 |      13685 |  1,087,661.85 |  17,586,146.94 |    16,498,485.09 |    272,200,010,165,011.50 |              15.17 |                       15.17 |  16,498,485.09 |             1.43 |                1.64 |
|  446 |      11559 |    884,011.80 |  14,084,860.43 |    13,200,848.63 |    174,262,404,513,299.41 |              14.93 |                       14.93 |  13,200,848.63 |             1.43 |                1.64 |
|  772 |      37606 |  2,781,909.60 |  40,485,121.14 |    37,703,211.54 |  1,421,532,160,485,053.25 |              13.55 |                       13.55 |  37,703,211.54 |             1.43 |                1.64 |
|  833 |      25447 |    885,479.98 |  12,828,839.93 |    11,943,359.94 |    142,643,846,759,079.66 |              13.49 |                       13.49 |  11,943,359.94 |             1.43 |                1.64 |
|  291 |      11692 | 12,032,211.12 | 167,984,646.35 |   155,952,435.23 | 24,321,162,053,704,324.00 |              12.96 |                       12.96 | 155,952,435.23 |             1.43 |                1.64 |
|  659 |      45324 |  1,514,291.64 |  18,102,564.53 |    16,588,272.89 |    275,170,797,583,872.47 |              10.95 |                       10.95 |  16,588,272.89 |             1.43 |                1.64 |
|  387 |      10696 |  9,069,944.51 | 104,668,600.67 |    95,598,656.16 |  9,139,103,058,716,000.00 |              10.54 |                       10.54 |  95,598,656.16 |             1.43 |                1.64 |
|  858 |      44835 |    628,394.08 |   7,245,719.90 |     6,617,325.82 |     43,789,001,043,249.20 |              10.53 |                       10.53 |   6,617,325.82 |             1.43 |                1.64 |
|  753 |      24363 |    608,258.83 |   6,965,722.48 |     6,357,463.65 |     40,417,344,040,931.85 |              10.45 |                       10.45 |   6,357,463.65 |             1.43 |                1.64 |
|   43 |      19237 |    565,186.51 |   6,461,057.25 |     5,895,870.74 |     34,761,291,727,137.33 |              10.43 |                       10.43 |   5,895,870.74 |             1.43 |                1.64 |
|  153 |      20533 | 14,726,741.65 | 160,650,797.09 |   145,924,055.44 | 21,293,829,956,358,736.00 |               9.91 |                        9.91 | 145,924,055.44 |             1.43 |                1.64 |
|  141 |      24746 |    273,156.93 |   2,941,880.58 |     2,668,723.64 |      7,122,085,888,914.81 |               9.77 |                        9.77 |   2,668,723.64 |             1.43 |                1.64 |
|  364 |       9702 |  9,488,989.62 | 101,312,132.57 |    91,823,142.95 |  8,431,489,580,868,058.00 |               9.68 |                        9.68 |  91,823,142.95 |             1.43 |                1.64 |
|  705 |       5765 |  2,005,469.08 |  20,741,949.34 |    18,736,480.26 |    351,055,692,717,613.62 |               9.34 |                        9.34 |  18,736,480.26 |             1.43 |                1.64 |
|  296 |      10549 |  9,127,465.90 |  93,562,665.00 |    84,435,199.10 |  7,129,302,846,237,208.00 |               9.25 |                        9.25 |  84,435,199.10 |             1.43 |                1.64 |
| 1017 |     383709 |  2,420,385.77 |  23,764,832.60 |    21,344,446.84 |    455,585,410,707,929.56 |               8.82 |                        8.82 |  21,344,446.84 |             1.43 |                1.64 |
|  597 |       8043 | 12,063,480.67 | 116,957,545.89 |   104,894,065.23 | 11,002,764,919,519,720.00 |               8.70 |                        8.70 | 104,894,065.23 |             1.43 |                1.64 |
|  953 |      40983 |    746,687.56 |   7,175,857.26 |     6,429,169.70 |     41,334,223,079,511.78 |               8.61 |                        8.61 |   6,429,169.70 |             1.43 |                1.64 |
|  164 |      60608 |  3,100,600.07 |  28,692,576.45 |    25,591,976.39 |    654,949,255,457,229.62 |               8.25 |                        8.25 |  25,591,976.39 |             1.43 |                1.64 |
|  922 |      42889 |    889,705.36 |   8,062,731.32 |     7,173,025.96 |     51,452,301,433,464.56 |               8.06 |                        8.06 |   7,173,025.96 |             1.43 |                1.64 |
|  261 |      11908 |    235,589.36 |   2,120,843.85 |     1,885,254.49 |      3,554,184,505,957.41 |               8.00 |                        8.00 |   1,885,254.49 |             1.43 |                1.64 |
|  279 |       8744 |    659,078.78 |   5,900,202.57 |     5,241,123.79 |     27,469,378,627,273.96 |               7.95 |                        7.95 |   5,241,123.79 |             1.43 |                1.64 |
|  213 |        522 | 12,130,511.47 | 107,640,935.60 |    95,510,424.13 |  9,122,241,117,289,272.00 |               7.87 |                        7.87 |  95,510,424.13 |             1.43 |                1.64 |
|  489 |      25460 |    526,757.01 |   4,514,155.13 |     3,987,398.12 |     15,899,343,804,534.75 |               7.57 |                        7.57 |   3,987,398.12 |             1.43 |                1.64 |
|  902 |     454283 |  6,139,504.98 |  50,217,635.64 |    44,078,130.66 |  1,942,881,602,436,516.50 |               7.18 |                        7.18 |  44,078,130.66 |             1.43 |                1.64 |
|  812 |        281 | 15,913,463.82 | 129,998,417.42 |   114,084,953.60 | 13,015,376,638,194,006.00 |               7.17 |                        7.17 | 114,084,953.60 |             1.43 |                1.64 |
| 1021 |      31043 |  3,108,505.87 |  24,589,110.07 |    21,480,604.19 |    461,416,356,507,984.62 |               6.91 |                        6.91 |  21,480,604.19 |             1.43 |                1.64 |
|    1 |     155084 |  1,064,316.56 |   8,335,112.94 |     7,270,796.38 |     52,864,479,997,403.42 |               6.83 |                        6.83 |   7,270,796.38 |             1.43 |                1.64 |
|  305 |     407890 |  2,912,243.78 |  21,518,581.43 |    18,606,337.64 |    346,195,800,497,107.12 |               6.39 |                        6.39 |  18,606,337.64 |             1.43 |                1.64 |
|  588 |      43935 |  6,277,292.78 |  45,627,613.98 |    39,350,321.21 |  1,548,447,779,247,120.75 |               6.27 |                        6.27 |  39,350,321.21 |             1.43 |                1.64 |
|  476 |      75531 |  5,314,229.37 |  38,233,705.85 |    32,919,476.48 |  1,083,691,931,938,930.62 |               6.19 |                        6.19 |  32,919,476.48 |             1.43 |                1.64 |
Top 10 predictions with lowest absolute percentage error
|      |   movie_id |         actual |      predicted |   absolute_error |          squared_error |   percentage_error |   absolute_percentage_error |     residuals |   threshold_mape |   threshold_mape_25 |
|-----:|-----------:|---------------:|---------------:|-----------------:|-----------------------:|-------------------:|----------------------------:|--------------:|-----------------:|--------------------:|
|  790 |      25763 |  43,844,908.25 |  42,627,467.22 |     1,217,441.03 |   1,482,162,651,606.83 |              -0.03 |                        0.03 | -1,217,441.03 |             1.43 |                1.64 |
|  783 |      50099 |   8,389,922.12 |   8,157,369.27 |       232,552.84 |      54,080,823,881.00 |              -0.03 |                        0.03 |   -232,552.84 |             1.43 |                1.64 |
|  975 |       2080 | 529,852,663.11 | 543,714,915.85 |    13,862,252.73 | 192,162,050,870,651.03 |               0.03 |                        0.03 | 13,862,252.73 |             1.43 |                1.64 |
|   41 |      17190 |  28,515,679.19 |  27,779,171.85 |       736,507.34 |     542,443,065,880.99 |              -0.03 |                        0.03 |   -736,507.34 |             1.43 |                1.64 |
|  293 |     302699 | 275,458,498.28 | 268,956,824.48 |     6,501,673.80 |  42,271,762,207,323.44 |              -0.02 |                        0.02 | -6,501,673.80 |             1.43 |                1.64 |
|  958 |        179 | 254,222,447.15 | 260,201,696.75 |     5,979,249.60 |  35,751,425,772,020.38 |               0.02 |                        0.02 |  5,979,249.60 |             1.43 |                1.64 |
|  940 |     228150 | 272,630,016.53 | 266,253,675.39 |     6,376,341.14 |  40,657,726,359,737.91 |              -0.02 |                        0.02 | -6,376,341.14 |             1.43 |                1.64 |
|  706 |        172 | 128,294,406.05 | 125,308,719.49 |     2,985,686.57 |   8,914,324,267,962.19 |              -0.02 |                        0.02 | -2,985,686.57 |             1.43 |                1.64 |
|  251 |       6691 |  42,382,991.72 |  41,410,474.51 |       972,517.21 |     945,789,724,961.44 |              -0.02 |                        0.02 |   -972,517.21 |             1.43 |                1.64 |
|   48 |        755 |  50,103,961.76 |  51,217,373.62 |     1,113,411.86 |   1,239,685,969,667.55 |               0.02 |                        0.02 |  1,113,411.86 |             1.43 |                1.64 |
|  907 |      18147 |  33,174,481.64 |  32,480,961.47 |       693,520.17 |     480,970,221,034.92 |              -0.02 |                        0.02 |   -693,520.17 |             1.43 |                1.64 |
|  490 |      22617 |   1,903,067.48 |   1,874,393.63 |        28,673.85 |         822,189,709.12 |              -0.02 |                        0.02 |    -28,673.85 |             1.43 |                1.64 |
|   53 |       9714 | 150,134,582.46 | 147,916,945.76 |     2,217,636.70 |   4,917,912,552,163.86 |              -0.01 |                        0.01 | -2,217,636.70 |             1.43 |                1.64 |
|  634 |     122906 | 113,925,235.18 | 115,509,480.99 |     1,584,245.81 |   2,509,834,784,867.44 |               0.01 |                        0.01 |  1,584,245.81 |             1.43 |                1.64 |
|  176 |      13809 |  36,429,090.34 |  36,024,877.54 |       404,212.80 |     163,387,987,252.42 |              -0.01 |                        0.01 |   -404,212.80 |             1.43 |                1.64 |
|  850 |       5174 | 379,289,817.15 | 383,230,631.75 |     3,940,814.60 |  15,530,019,697,208.83 |               0.01 |                        0.01 |  3,940,814.60 |             1.43 |                1.64 |
|  685 |      35275 |  40,173,691.68 |  40,585,800.36 |       412,108.67 |     169,833,558,520.77 |               0.01 |                        0.01 |    412,108.67 |             1.43 |                1.64 |
|   77 |     474350 | 563,886,657.79 | 559,834,630.86 |     4,052,026.93 |  16,418,922,226,671.53 |              -0.01 |                        0.01 | -4,052,026.93 |             1.43 |                1.64 |
|  474 |      41417 |  15,263,536.36 |  15,336,346.53 |        72,810.16 |       5,301,320,060.29 |               0.00 |                        0.00 |     72,810.16 |             1.43 |                1.64 |
|  319 |        550 | 184,455,823.81 | 185,068,002.76 |       612,178.95 |     374,763,069,657.38 |               0.00 |                        0.00 |    612,178.95 |             1.43 |                1.64 |
|  865 |       8398 |  37,326,884.09 |  37,226,662.60 |       100,221.49 |      10,044,346,546.33 |              -0.00 |                        0.00 |   -100,221.49 |             1.43 |                1.64 |
|   32 |      14534 |  48,249,536.40 |  48,331,224.26 |        81,687.86 |       6,672,906,442.87 |               0.00 |                        0.00 |     81,687.86 |             1.43 |                1.64 |
|  791 |      23049 |  29,052,161.20 |  29,009,599.48 |        42,561.72 |       1,811,500,037.49 |              -0.00 |                        0.00 |    -42,561.72 |             1.43 |                1.64 |
|  225 |       5854 |  42,304,847.10 |  42,243,092.32 |        61,754.78 |       3,813,652,959.76 |              -0.00 |                        0.00 |    -61,754.78 |             1.43 |                1.64 |
| 1033 |      98548 |  16,667,384.14 |  16,691,280.67 |        23,896.53 |         571,044,253.47 |               0.00 |                        0.00 |     23,896.53 |             1.43 |                1.64 |
Summary statistics for predictions
|       |   movie_id |           actual |        predicted |   absolute_error |                 squared_error |   percentage_error |   absolute_percentage_error |         residuals |   threshold_mape |   threshold_mape_25 |
|:------|-----------:|-----------------:|-----------------:|-----------------:|------------------------------:|-------------------:|----------------------------:|------------------:|-----------------:|--------------------:|
| count |   1,062.00 |         1,062.00 |         1,062.00 |         1,062.00 |                      1,062.00 |           1,062.00 |                    1,062.00 |          1,062.00 |         1,062.00 |            1,062.00 |
| mean  |  69,384.94 |   129,423,252.82 |   101,265,474.05 |    67,251,724.38 |     27,014,286,675,825,736.00 |               0.83 |                        1.32 |    -28,157,778.76 |             1.43 |                1.64 |
| std   | 118,092.22 |   252,667,033.39 |   166,473,331.85 |   150,042,296.15 |    365,752,205,605,954,432.00 |               3.33 |                        3.17 |    162,006,604.96 |             0.00 |                0.00 |
| min   |      16.00 |        41,863.86 |       181,798.71 |        23,896.53 |                571,044,253.47 |              -0.95 |                        0.00 | -3,419,198,757.83 |             1.43 |                1.64 |
| 25%   |   9,333.25 |    14,785,459.79 |    15,146,892.76 |     7,619,141.60 |         58,052,449,461,518.25 |              -0.49 |                        0.30 |    -38,369,031.36 |             1.43 |                1.64 |
| 50%   |  15,383.00 |    46,945,086.70 |    43,719,188.95 |    25,050,881.56 |        627,548,115,041,938.25 |              -0.09 |                        0.56 |     -1,949,316.57 |             1.43 |                1.64 |
| 75%   |  53,897.00 |   131,796,197.62 |   116,956,076.56 |    70,958,880.30 |      5,035,163,150,835,371.00 |               0.89 |                        0.91 |     15,507,916.42 |             1.43 |                1.64 |
| max   | 599,975.00 | 4,298,409,951.92 | 1,601,985,365.71 | 3,419,198,757.83 | 11,690,920,145,537,658,880.00 |              60.83 |                       60.83 |    528,272,670.47 |             1.43 |                1.64 |
Results for full__regression__no_outliers__complex.csv
                Model           MSE      MAPE           MAE          RMSE     RMSLE      MSLE        R2  Threshold Probability Accuracy  Threshold MAPE  Threshold MAPE (25%)
0  lightgbm_regressor  2.701429e+16  1.319254  6.725172e+07  1.643602e+08  1.010272  1.020649  0.576449                        0.175141        1.426929              1.636847
Running model 2 from 2
Loading data from ./data/ml_ready_data/small_productions__regression__no_outliers__complex.csv
Fitting 5 folds for each of 100 candidates, totalling 500 fits
Top 10 predictions with highest absolute percentage error
|    |   movie_id |        actual |     predicted |   absolute_error |            squared_error |   percentage_error |   absolute_percentage_error |      residuals |   threshold_mape |   threshold_mape_25 |
|---:|-----------:|--------------:|--------------:|-----------------:|-------------------------:|-------------------:|----------------------------:|---------------:|-----------------:|--------------------:|
| 25 |     310133 |    184,682.45 |  4,279,873.53 |     4,095,191.08 |    16,770,589,959,395.63 |              22.17 |                       22.17 |   4,095,191.08 |             1.94 |                2.21 |
| 26 |     381237 |    200,972.73 |  3,171,568.37 |     2,970,595.64 |     8,824,438,484,958.44 |              14.78 |                       14.78 |   2,970,595.64 |             1.94 |                2.21 |
| 12 |      60013 |    531,572.51 |  7,996,019.28 |     7,464,446.77 |    55,717,965,632,234.84 |              14.04 |                       14.04 |   7,464,446.77 |             1.94 |                2.21 |
| 15 |      32686 |     56,493.19 |    718,778.56 |       662,285.37 |       438,621,916,411.13 |              11.72 |                       11.72 |     662,285.37 |             1.94 |                2.21 |
| 59 |     157384 |    206,577.69 |  2,210,890.00 |     2,004,312.31 |     4,017,267,839,408.58 |               9.70 |                        9.70 |   2,004,312.31 |             1.94 |                2.21 |
| 49 |      38325 |    870,055.73 |  9,305,601.87 |     8,435,546.14 |    71,158,438,666,142.20 |               9.70 |                        9.70 |   8,435,546.14 |             1.94 |                2.21 |
| 41 |      75956 |    715,886.77 |  7,057,650.93 |     6,341,764.16 |    40,217,972,676,974.77 |               8.86 |                        8.86 |   6,341,764.16 |             1.94 |                2.21 |
|  3 |      14443 |  4,228,853.38 | 36,074,131.38 |    31,845,278.01 | 1,014,121,731,296,746.12 |               7.53 |                        7.53 |  31,845,278.01 |             1.94 |                2.21 |
| 79 |        442 |  2,176,790.12 | 12,545,873.77 |    10,369,083.65 |   107,517,895,760,320.47 |               4.76 |                        4.76 |  10,369,083.65 |             1.94 |                2.21 |
| 50 |      63281 |  1,772,956.33 |  7,507,225.98 |     5,734,269.65 |    32,881,848,408,281.05 |               3.23 |                        3.23 |   5,734,269.65 |             1.94 |                2.21 |
| 35 |      10688 |  2,775,847.61 | 11,503,324.21 |     8,727,476.61 |    76,168,847,914,021.48 |               3.14 |                        3.14 |   8,727,476.61 |             1.94 |                2.21 |
| 30 |     423628 |  1,130,288.30 |  4,479,797.75 |     3,349,509.45 |    11,219,213,535,148.83 |               2.96 |                        2.96 |   3,349,509.45 |             1.94 |                2.21 |
| 10 |      14672 |  7,989,853.84 | 31,353,817.21 |    23,363,963.37 |   545,874,784,477,666.19 |               2.92 |                        2.92 |  23,363,963.37 |             1.94 |                2.21 |
| 43 |      38542 |  1,273,873.57 |  3,730,935.77 |     2,457,062.21 |     6,037,154,695,902.61 |               1.93 |                        1.93 |   2,457,062.21 |             1.94 |                2.21 |
| 36 |      13552 |    569,386.87 |  1,621,646.33 |     1,052,259.46 |     1,107,249,977,005.01 |               1.85 |                        1.85 |   1,052,259.46 |             1.94 |                2.21 |
| 81 |     209901 |  2,191,356.95 |  6,103,311.33 |     3,911,954.38 |    15,303,387,044,702.87 |               1.79 |                        1.79 |   3,911,954.38 |             1.94 |                2.21 |
| 84 |      46301 |    459,446.92 |  1,247,560.53 |       788,113.61 |       621,123,067,997.71 |               1.72 |                        1.72 |     788,113.61 |             1.94 |                2.21 |
| 14 |      67748 |  1,827,877.41 |  4,581,229.49 |     2,753,352.07 |     7,580,947,645,007.81 |               1.51 |                        1.51 |   2,753,352.07 |             1.94 |                2.21 |
| 46 |       1694 |  5,729,909.78 | 14,264,075.23 |     8,534,165.44 |    72,831,979,833,068.31 |               1.49 |                        1.49 |   8,534,165.44 |             1.94 |                2.21 |
| 40 |      33344 |  1,188,540.93 |  2,848,416.96 |     1,659,876.03 |     2,755,188,431,820.66 |               1.40 |                        1.40 |   1,659,876.03 |             1.94 |                2.21 |
| 53 |      14271 |  3,756,006.32 |  8,176,331.55 |     4,420,325.23 |    19,539,275,172,734.14 |               1.18 |                        1.18 |   4,420,325.23 |             1.94 |                2.21 |
| 89 |      18841 |    246,569.47 |    478,375.75 |       231,806.28 |        53,734,150,222.11 |               0.94 |                        0.94 |     231,806.28 |             1.94 |                2.21 |
| 74 |      75986 | 16,122,253.95 |  1,035,257.25 |    15,086,996.70 |   227,617,469,364,730.03 |              -0.94 |                        0.94 | -15,086,996.70 |             1.94 |                2.21 |
| 61 |      56836 |    927,742.22 |  1,750,080.60 |       822,338.38 |       676,240,415,302.26 |               0.89 |                        0.89 |     822,338.38 |             1.94 |                2.21 |
| 57 |      53049 |  1,736,723.22 |    202,370.71 |     1,534,352.51 |     2,354,237,617,087.42 |              -0.88 |                        0.88 |  -1,534,352.51 |             1.94 |                2.21 |
| 67 |     310131 | 51,320,406.86 |  6,117,190.87 |    45,203,215.99 | 2,043,330,735,874,408.25 |              -0.88 |                        0.88 | -45,203,215.99 |             1.94 |                2.21 |
| 38 |      18009 |  4,647,881.54 |  8,724,420.01 |     4,076,538.47 |    16,618,165,913,821.07 |               0.88 |                        0.88 |   4,076,538.47 |             1.94 |                2.21 |
| 16 |     180147 | 34,574,562.37 |  4,668,975.52 |    29,905,586.85 |   894,344,125,040,471.12 |              -0.86 |                        0.86 | -29,905,586.85 |             1.94 |                2.21 |
| 77 |       7508 | 41,779,658.05 |  6,830,081.66 |    34,949,576.39 | 1,221,472,889,970,946.50 |              -0.84 |                        0.84 | -34,949,576.39 |             1.94 |                2.21 |
| 76 |       6936 |  3,967,818.39 |    651,756.04 |     3,316,062.35 |    10,996,269,491,378.37 |              -0.84 |                        0.84 |  -3,316,062.35 |             1.94 |                2.21 |
| 13 |      11023 | 16,773,447.66 |  3,685,968.69 |    13,087,478.98 |   171,282,105,929,340.94 |              -0.78 |                        0.78 | -13,087,478.98 |             1.94 |                2.21 |
| 66 |      51273 | 12,057,786.27 |  2,764,747.63 |     9,293,038.64 |    86,360,567,192,609.81 |              -0.77 |                        0.77 |  -9,293,038.64 |             1.94 |                2.21 |
| 86 |        100 |  7,017,359.96 |  1,634,482.60 |     5,382,877.36 |    28,975,368,690,337.18 |              -0.77 |                        0.77 |  -5,382,877.36 |             1.94 |                2.21 |
|  6 |      31977 | 12,527,369.50 |  3,007,368.92 |     9,520,000.58 |    90,630,411,032,011.14 |              -0.76 |                        0.76 |  -9,520,000.58 |             1.94 |                2.21 |
| 85 |      47620 |  1,363,606.33 |    334,864.30 |     1,028,742.02 |     1,058,310,152,983.25 |              -0.75 |                        0.75 |  -1,028,742.02 |             1.94 |                2.21 |
| 44 |     308638 |    991,582.18 |  1,734,885.99 |       743,303.81 |       552,500,557,036.20 |               0.75 |                        0.75 |     743,303.81 |             1.94 |                2.21 |
| 83 |      50719 |    413,930.69 |    708,380.24 |       294,449.55 |        86,700,535,848.27 |               0.71 |                        0.71 |     294,449.55 |             1.94 |                2.21 |
| 37 |      24924 |  8,010,092.72 | 13,518,514.24 |     5,508,421.52 |    30,342,707,676,579.70 |               0.69 |                        0.69 |   5,508,421.52 |             1.94 |                2.21 |
| 29 |      35428 | 17,919,866.47 |  5,760,551.88 |    12,159,314.59 |   147,848,931,372,695.88 |              -0.68 |                        0.68 | -12,159,314.59 |             1.94 |                2.21 |
| 63 |       9592 | 10,302,024.50 |  3,368,691.73 |     6,933,332.77 |    48,071,103,312,399.20 |              -0.67 |                        0.67 |  -6,933,332.77 |             1.94 |                2.21 |
Top 10 predictions with lowest absolute percentage error
|    |   movie_id |        actual |     predicted |   absolute_error |         squared_error |   percentage_error |   absolute_percentage_error |     residuals |   threshold_mape |   threshold_mape_25 |
|---:|-----------:|--------------:|--------------:|-----------------:|----------------------:|-------------------:|----------------------------:|--------------:|-----------------:|--------------------:|
| 42 |      21905 |  4,836,539.68 |  6,339,056.64 |     1,502,516.96 |  2,257,557,218,095.95 |               0.31 |                        0.31 |  1,502,516.96 |             1.94 |                2.21 |
| 31 |     286554 |  1,117,303.73 |    788,410.14 |       328,893.59 |    108,170,994,692.94 |              -0.29 |                        0.29 |   -328,893.59 |             1.94 |                2.21 |
|  5 |     244610 |    536,438.60 |    383,475.63 |       152,962.97 |     23,397,668,992.12 |              -0.29 |                        0.29 |   -152,962.97 |             1.94 |                2.21 |
| 48 |      78177 |  4,683,229.97 |  3,435,179.47 |     1,248,050.50 |  1,557,630,050,203.39 |              -0.27 |                        0.27 | -1,248,050.50 |             1.94 |                2.21 |
| 91 |      21378 |  8,847,328.69 | 11,081,182.05 |     2,233,853.37 |  4,990,100,862,768.48 |               0.25 |                        0.25 |  2,233,853.37 |             1.94 |                2.21 |
| 18 |     417417 |    266,291.62 |    326,213.97 |        59,922.35 |      3,590,687,653.78 |               0.23 |                        0.23 |     59,922.35 |             1.94 |                2.21 |
| 45 |     109513 | 19,110,729.37 | 14,910,645.22 |     4,200,084.15 | 17,640,706,903,282.64 |              -0.22 |                        0.22 | -4,200,084.15 |             1.94 |                2.21 |
| 34 |      12109 |  2,637,399.86 |  2,059,930.74 |       577,469.12 |    333,470,580,602.20 |              -0.22 |                        0.22 |   -577,469.12 |             1.94 |                2.21 |
| 20 |      17474 |  6,384,426.38 |  5,067,556.07 |     1,316,870.31 |  1,734,147,410,031.96 |              -0.21 |                        0.21 | -1,316,870.31 |             1.94 |                2.21 |
| 88 |      16344 |  4,260,831.46 |  5,104,416.50 |       843,585.03 |    711,635,708,236.14 |               0.20 |                        0.20 |    843,585.03 |             1.94 |                2.21 |
| 70 |      13121 |  3,311,780.13 |  2,678,722.74 |       633,057.39 |    400,761,661,245.56 |              -0.19 |                        0.19 |   -633,057.39 |             1.94 |                2.21 |
| 19 |      34764 |  5,068,452.89 |  5,865,103.82 |       796,650.93 |    634,652,705,100.99 |               0.16 |                        0.16 |    796,650.93 |             1.94 |                2.21 |
|  7 |      10105 |  2,170,124.08 |  2,502,879.78 |       332,755.70 |    110,726,355,755.51 |               0.15 |                        0.15 |    332,755.70 |             1.94 |                2.21 |
| 33 |      10086 |    446,452.50 |    512,911.07 |        66,458.57 |      4,416,741,505.54 |               0.15 |                        0.15 |     66,458.57 |             1.94 |                2.21 |
| 22 |      34441 |    276,229.11 |    237,163.58 |        39,065.53 |      1,526,115,649.80 |              -0.14 |                        0.14 |    -39,065.53 |             1.94 |                2.21 |
| 82 |      34144 |  7,582,222.03 |  6,699,412.55 |       882,809.48 |    779,352,580,518.63 |              -0.12 |                        0.12 |   -882,809.48 |             1.94 |                2.21 |
| 75 |      15775 |  8,508,917.07 |  9,319,810.16 |       810,893.09 |    657,547,607,299.84 |               0.10 |                        0.10 |    810,893.09 |             1.94 |                2.21 |
| 32 |      14752 |  7,052,363.06 |  6,437,221.10 |       615,141.97 |    378,399,637,121.85 |              -0.09 |                        0.09 |   -615,141.97 |             1.94 |                2.21 |
| 60 |      13245 |  6,413,817.89 |  5,917,979.90 |       495,837.99 |    245,855,315,656.97 |              -0.08 |                        0.08 |   -495,837.99 |             1.94 |                2.21 |
| 80 |      22307 |  7,289,521.53 |  7,766,880.24 |       477,358.71 |    227,871,333,540.13 |               0.07 |                        0.07 |    477,358.71 |             1.94 |                2.21 |
| 73 |       2771 |  9,941,874.82 | 10,564,238.62 |       622,363.80 |    387,336,702,900.44 |               0.06 |                        0.06 |    622,363.80 |             1.94 |                2.21 |
|  0 |      62680 |    919,993.07 |    867,754.63 |        52,238.44 |      2,728,854,342.41 |              -0.06 |                        0.06 |    -52,238.44 |             1.94 |                2.21 |
| 27 |       1812 |  3,817,422.25 |  3,893,468.47 |        76,046.22 |      5,783,028,157.67 |               0.02 |                        0.02 |     76,046.22 |             1.94 |                2.21 |
| 11 |      11240 |  6,942,292.42 |  6,900,060.09 |        42,232.34 |      1,783,570,235.15 |              -0.01 |                        0.01 |    -42,232.34 |             1.94 |                2.21 |
| 47 |      24604 |  5,112,997.76 |  5,106,308.31 |         6,689.45 |         44,748,701.33 |              -0.00 |                        0.00 |     -6,689.45 |             1.94 |                2.21 |
Summary statistics for predictions
|       |   movie_id |        actual |     predicted |   absolute_error |            squared_error |   percentage_error |   absolute_percentage_error |      residuals |   threshold_mape |   threshold_mape_25 |
|:------|-----------:|--------------:|--------------:|-----------------:|-------------------------:|-------------------:|----------------------------:|---------------:|-----------------:|--------------------:|
| count |      92.00 |         92.00 |         92.00 |            92.00 |                    92.00 |              92.00 |                       92.00 |          92.00 |            92.00 |               92.00 |
| mean  |  74,592.51 |  6,816,312.56 |  5,520,478.47 |     5,153,274.33 |    88,358,731,811,980.27 |               1.26 |                        1.75 |  -1,295,834.09 |             1.94 |                2.21 |
| std   | 108,437.87 |  8,881,550.22 |  5,842,548.16 |     7,904,533.11 |   284,433,682,706,475.69 |               3.81 |                        3.61 |   9,361,200.15 |             0.00 |                0.00 |
| min   |      80.00 |     56,493.19 |    202,370.71 |         6,689.45 |            44,748,701.33 |              -0.94 |                        0.00 | -45,203,215.99 |             1.94 |                2.21 |
| 25%   |  14,276.25 |  1,167,545.85 |  1,631,273.54 |       654,978.38 |       429,156,852,619.74 |              -0.52 |                        0.29 |  -2,113,535.23 |             1.94 |                2.21 |
| 50%   |  29,884.00 |  3,892,620.32 |  4,101,388.33 |     1,858,502.58 |     3,475,292,324,723.68 |               0.01 |                        0.61 |      26,616.45 |             1.94 |                2.21 |
| 75%   |  65,759.25 |  8,134,798.81 |  7,153,898.20 |     5,881,863.57 |    34,661,670,955,608.14 |               0.88 |                        0.90 |   1,745,985.10 |             1.94 |                2.21 |
| max   | 470,333.00 | 51,320,406.86 | 36,074,131.38 |    45,203,215.99 | 2,043,330,735,874,408.25 |              22.17 |                       22.17 |  31,845,278.01 |             1.94 |                2.21 |
Results for small_productions__regression__no_outliers__complex.csv
                Model           MSE      MAPE           MAE          RMSE     RMSLE      MSLE        R2  Threshold Probability Accuracy  Threshold MAPE  Threshold MAPE (25%)
0  lightgbm_regressor  8.835873e+13  1.754531  5.153274e+06  9.399933e+06  1.177369  1.386197 -0.132448                        0.173913        1.939094              2.207895